(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{4747:function(t,n,i){"use strict";i.r(n),i.d(n,{default:function(){return u}});var s=i(7294);function e(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=t[i];return s}function o(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"===typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=i(2777),r=i(2262),h=i(9499),c=function(){function t(n){(0,a.Z)(this,t),(0,h.Z)(this,"canvasId",void 0),(0,h.Z)(this,"canvas",void 0),(0,h.Z)(this,"cc",void 0),(0,h.Z)(this,"pixelWidth",void 0),(0,h.Z)(this,"pixelHeight",void 0),(0,h.Z)(this,"rows",50),(0,h.Z)(this,"cols",50),(0,h.Z)(this,"sandbox",void 0),this.canvasId=n,this.canvas=document.getElementById(n),this.cc=this.canvas.getContext("2d"),this.pixelWidth=this.canvas.width/this.cols,this.pixelHeight=this.canvas.height/this.rows,this.sandbox=[];for(var i=0;i<this.rows;i++){var s=new Array(this.cols).fill(0);this.sandbox.push(o(s))}this.sandbox[0][1]=1,this.sandbox[1][1]=1,this.sandbox[2][1]=1,this.sandbox[3][1]=1,this.sandbox[4][1]=1,this.sandbox[5][1]=1,this.sandbox[6][1]=1,this.sandbox[7][1]=1,this.sandbox[8][1]=1,this.sandbox[9][1]=1,this.sandbox[10][1]=1,this.sandbox[11][1]=1,this.sandbox[12][1]=1,this.sandbox[13][1]=1,this.sandbox[14][1]=1,this.sandbox[15][1]=1,this.sandbox[16][1]=1}return(0,r.Z)(t,[{key:"drawPixel",value:function(t,n,i){0===t?this.cc.fillStyle="white":1===t&&(this.cc.fillStyle="brown"),this.cc.fillRect(n*this.pixelWidth,i*this.pixelHeight,this.pixelWidth,this.pixelHeight)}},{key:"render",value:function(){for(var t=0;t<this.sandbox.length;t++)for(var n=0;n<this.sandbox[t].length;n++)this.drawPixel(this.sandbox[t][n],n,t)}},{key:"step",value:function(){for(var t=!1,n=this.sandbox.length-1;n>=0;n--)for(var i=0;i<this.sandbox[n].length;i++)if(0!==this.sandbox[n][i])if(n!==this.sandbox.length-1)1===this.sandbox[n][i]&&(0===this.sandbox[n+1][i]?(this.sandbox[n][i]=0,this.sandbox[n+1][i]=1,t=!0):0===this.sandbox[n+1][i+1]?(this.sandbox[n][i]=0,this.sandbox[n+1][i+1]=1,t=!0):0===this.sandbox[n+1][i-1]&&(this.sandbox[n][i]=0,this.sandbox[n+1][i-1]=1,t=!0));else if(0===i||i===this.sandbox[n].length-1)continue;t&&console.log(this.sandbox)}}]),t}(),d=i(5893);function u(){var t=(0,s.useRef)(0);return(0,s.useEffect)((function(){var n=new c("myCanvas"),i=0;return requestAnimationFrame((function s(e){var o=Math.floor(e/100);console.log(i,o),i!==o&&(n.step(),n.render(),i=o),t.current=requestAnimationFrame(s)})),function(){cancelAnimationFrame(t.current)}}),[]),(0,d.jsx)("div",{className:"flex h-screen justify-center place-items-center bg-black",children:(0,d.jsx)("canvas",{id:"myCanvas",className:"border-4 h-96 w-96"})})}},454:function(t,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sand-simulation",function(){return i(4747)}])},2777:function(t,n,i){"use strict";function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}i.d(n,{Z:function(){return s}})},2262:function(t,n,i){"use strict";function s(t,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,n,i){return n&&s(t.prototype,n),i&&s(t,i),t}i.d(n,{Z:function(){return e}})}},function(t){t.O(0,[774,888,179],(function(){return n=454,t(t.s=n);var n}));var n=t.O();_N_E=n}]);